define(["../libs/jquery-2.1.4","../common/browse"],function(e,t){var i,a=0,n={playV:function(e,t,s){if(""!=i&&i!=e&&(a=0,$("video").length>0&&($("video").siblings("*").show(),$("video").attr("src",""),$("video").remove())),i=e,t=t[0],0==a){console.log(e),a=1,this.media=document.createElement("video"),this.media.setAttribute("x-webkit-airplay",""),this.media.setAttribute("webkit-playsinline","controls"),this.media.style.height=window.screen.width+"px",this.media.setAttribute("src",e),this.media.style.display="block",this.media.play(),oparent=t.parentNode,this.videoPic=oparent.getElementsByTagName("img")[0],this.videoBtn=oparent.getElementsByTagName("em")[0],this.videoPic.style.display="none",this.videoBtn.style.display="none",oparent.appendChild(this.media);var d=this;n.addEvent("ended",this.media,function(){n.playEnd(this)}),n.addEvent("pause",this.media,function(){}),this.videoBtn.addEventListener("click",function(){d.media.play(),d.media.parentNode.getElementsByTagName("em")[0].style.display="none"}),this.media.addEventListener("click",function(){n.playPause()})}},addEvent:function(e,t,i){t.addEventListener(e,i)},removeEvent:function(e,t,i){t.removeEventListerner(e,i)},playEnd:function(e){a=0,e.parentNode.getElementsByTagName("em")[0].style.display="block",e.parentNode.getElementsByTagName("img")[0].style.display="block",e.parentNode.removeChild(e)},playPause:function(){self.media.paused?(a=2,self.media.play(),self.media.parentNode.getElementsByTagName("em")[0].style.display="none"):(self.media.pause(),self.media.parentNode.getElementsByTagName("em")[0].style.display="block")}};return n});