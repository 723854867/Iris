define(["../libs/jquery-2.1.4","../common/browse","../common/aler","../common/info"],function(s,i,a,e){var n={maskEl:null,shareEl:null,init:function(s,a,e,t,o,r){if(i.versions.isWx?shareList='<li><a href="javascript:;" class="QZone"></a><p>QZone</p></li><li><a href="javascript:;" class="wx"></a><p>微信</p></li><li><a href="javascript:;" class="wxq"></a><p>微信朋友圈</p></li><li><a href="javascript:;" class="sinawb"></a><p>新浪微博</p></li>':shareList='<li><a href="javascript:;" class="QZone"></a><p>QZone</p></li><li><a href="javascript:;" class="sinawb"></a><p>新浪微博</p></li>',window.location.href.indexOf("live")>0){shareList='<li><a href="javascript:;" class="QZone"></a><p>QZone</p></li><li><a href="javascript:;" class="wx"></a><p>微信</p></li><li><a href="javascript:;" class="wxq"></a><p>微信朋友圈</p></li><li><a href="javascript:;" class="sinawb"></a><p>新浪微博</p></li>';var h="",l=['<div class="maskBox"></div>','<div class="shareBox1">','<div class="shareList">',"<ul>"+shareList+"</ul>","</div>",h,'<div class="cancel">取消</div></div>'].join("")}else var l=['<div class="maskBox"></div>','<div class="shareBox1">','<div class="shareList">',"<ul>"+shareList+"</ul>","</div>",'<div class="cancel">取消</div></div>'].join("");this.shareWxMask=$('<div class="shareWxMask"></div>');var c=$('<div class="shareWrap"></div>').html(l);$("body").append(c),this.shareBoxEl=$(".shareWrap"),this.shareList=$(".shareList ul"),this.shareLi=this.shareList.find("li");var p=this.shareLi.length,d=this.shareLi.width();this.shareList.css("width",p*(d+30)),this.shareList.on("click","li a",function(){var i=$(this).attr("class");n.shareOther(i,s,a,e,t,r)});this.shareBoxEl.on("click",".cancel, .maskBox",function(){n.hide(),event.preventDefault()})},hide:function(){$(".shareWrap").remove()},shareOther:function(s,i,a,e,n,t){if(1==t){var o=window.location.host+"/resth5/live/shareLive",r={title:i+"的LIVE直播",url:encodeURIComponent("http://"+o+"?roomId="+n),summary:"小伙伴们~我的直播开始啦~还在等什么~快来找我玩~",pics:e},h={showcount:1,url:encodeURIComponent(o+"?roomId="+n),title:i+"的LIVE直播",summary:"小伙伴们~我的直播开始啦~还在等什么~快来找我玩~",pics:e},l=o+"?roomId="+n,c=[],p=[];for(var d in r)c.push(d+"="+r[d]||"");for(var d in h)p.push(d+"="+h[d]||"");"qq"==s?window.open("http://connect.qq.com/widget/shareqq/index.jsp?"+c.join("&")):"QZone"==s?window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+p.join("&")):"wx"==s?this.shareBoxEl.append(this.shareWxMask):"wxq"==s?this.shareBoxEl.append(this.shareWxMask):"sinawb"==s&&window.open("http://v.t.sina.com.cn/share/share.php?url="+encodeURI("http://"+l)+"&title="+i+"的LIVE直播&pic="+e+"&content=小伙伴们~我的直播开始啦~还在等什么~快来找我玩~")}else if(2==t);else{var v=window.location.host+"/resth5/video/videoDetail",r={title:i+"的【LIVE】",url:encodeURIComponent("http://"+v+"?videoId="+n),summary:a,pics:e},h={showcount:1,url:encodeURIComponent(v+"?videoId="+n),title:i+"的【LIVE】",summary:a,pics:e},l=v+"?videoId="+n,c=[],p=[];for(var d in r)c.push(d+"="+r[d]||"");for(var d in h)p.push(d+"="+h[d]||"");"qq"==s?window.open("http://connect.qq.com/widget/shareqq/index.jsp?"+c.join("&")):"QZone"==s?window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+p.join("&")):"wx"==s?this.shareBoxEl.append(this.shareWxMask):"wxq"==s?this.shareBoxEl.append(this.shareWxMask):"sinawb"==s&&window.open("http://v.t.sina.com.cn/share/share.php?url="+encodeURI("http://"+l)+"&title="+i+"的【LIVE】&pic="+e+"&content="+a)}}};return n});