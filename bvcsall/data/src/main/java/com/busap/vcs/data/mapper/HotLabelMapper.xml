<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="com.busap.vcs.data.mapper.HotLabelDAO">

   <sql id="page">limit #{pageStart},#{pageSize}</sql>

   <sql id="where_sql">
      <where>
         <if test="id != null">
            AND id = #{id,jdbcType=INTEGER}
         </if>
         <if test="labelName != null and labelName != ''">
            AND label_name LIKE CONCAT('%',#{labelName,jdbcType=VARCHAR},'%')
         </if>
         <if test="labelId != null">
            AND label_id = #{labelId,jdbcType=INTEGER}
         </if>
         <if test="showOrder != null">
            AND show_order = #{showOrder,jdbcType=INTEGER}
         </if>
         <if test="displayOrder != null">
            AND display_order = #{displayOrder,jdbcType=INTEGER}
         </if>
         <if test="creatorId != null">
            AND creator_id = #{creatorId,jdbcType=INTEGER}
         </if>
         <if test="createDate != null">
            AND create_at = #{createDate,jdbcType=TIMESTAMP}
         </if>
         <if test="modifyDate != null">
            AND modify_at = #{modifyDate,jdbcType=TIMESTAMP}
         </if>
         <if test="dataFrom != null and dataFrom != ''">
            AND data_from = #{dataFrom,jdbcType=VARCHAR}
         </if>
      </where>
   </sql>

   <select id="selectHotLabels" resultType="java.util.Map">
      SELECT
      id,
      label_name AS labelName,
      label_id AS labelId,
      show_order AS showOrder,
      display_order AS displayOrder,
      create_at AS createDate,
      creator_id AS creatorId,
      modify_at AS modifyDate,
      data_from AS dataFrom,
      share_img AS shareImg,
      share_text AS shareText
      FROM hot_label
      <include refid="where_sql"/>
      ORDER BY display_order DESC
      <!--<include refid="page"/>-->
   </select>

<!--   <select id="selectHotLabelsCount" resultType="java.lang.Integer" parameterType="map">
      SELECT
      COUNT(1)
      FROM hot_label
      <include refid="where_sql"/>
   </select>-->

   <insert id="insert" parameterType="com.busap.vcs.data.entity.HotLabel">
      INSERT INTO hot_label
      <trim prefix="(" suffix=")" suffixOverrides=",">
         <if test="id != null">
            id,
         </if>
         <if test="createDateStr != null">
            create_at,
         </if>
         <if test="creatorId != null">
            creator_id,
         </if>
         <if test="dataFrom != null and dataFrom != ''">
            data_from,
         </if>
         <if test="displayOrder != null">
            display_order,
         </if>
         <if test="labelId != null">
            label_id,
         </if>
         <if test="labelName != null">
            label_name,
         </if>
         <if test="showOrder != null">
            show_order,
         </if>
      </trim>
      <trim prefix="values (" suffix=")" suffixOverrides=",">
         <if test="id != null">
            #{id,jdbcType=INTEGER},
         </if>
         <if test="createDateStr != null">
            #{createDateStr,jdbcType=TIMESTAMP},
         </if>
         <if test="creatorId != null">
            #{creatorId,jdbcType=INTEGER},
         </if>
         <if test="dataFrom != null and dataFrom != ''">
            #{dataFrom,jdbcType=VARCHAR},
         </if>
         <if test="displayOrder != null">
            #{displayOrder,jdbcType=INTEGER},
         </if>
         <if test="labelId != null">
            #{labelId,jdbcType=BIGINT},
         </if>
         <if test="labelName != null">
            #{labelName,jdbcType=VARCHAR},
         </if>
         <if test="showOrder != null">
            #{showOrder,jdbcType=INTEGER},
         </if>
      </trim>
   </insert>

</mapper>
