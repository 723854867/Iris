<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.busap.vcs.data.mapper.UserEmailDao">

	<select id="select" resultType="com.busap.vcs.data.entity.UserEmail" parameterType="com.busap.vcs.data.entity.UserEmail">
		SELECT
		id,
		email,
		send_count AS sendCount,
		status,
		del_tag AS delTag
		FROM
		user_email
		WHERE del_tag = 0
		ORDER BY send_count DESC
    </select>

	<update id="updateUserEmailInEmails" parameterType="java.lang.String">
		UPDATE user_email
		<set>
			send_count = send_count + 1
		</set>
		WHERE email IN
		<foreach collection="array" index="index" item="item" open="(" separator="," close=")">
			#{item,jdbcType=VARCHAR}
		</foreach>
	</update>

</mapper>